{% load static %}
<!DOCTYPE html>
<html lang="pl" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="{% block description %}Material Dashboard 3 - nowoczesny panel administracyjny{% endblock %}">
  <meta name="author" content="Creative Tim">

  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://kit.fontawesome.com">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/apple-icon.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon.png' %}">
  <link rel="manifest" href="{% static 'img/site.webmanifest' %}">

  <title>{% block title %}Package{% endblock %}</title>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="{% block og_title %}Material Dashboard 3{% endblock %}">
  <meta property="og:description" content="{% block og_description %}Nowoczesny panel administracyjny{% endblock %}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{% block og_url %}{{ request.url }}{% endblock %}">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{% block twitter_title %}Material Dashboard 3{% endblock %}">
  <meta name="twitter:description" content="{% block twitter_description %}Nowoczesny panel administracyjny{% endblock %}">

  <!-- Fonts and icons -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" />

  <!-- Nucleo Icons -->
  <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
  <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />

  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous" async></script>

  <!-- Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0&display=swap" />

  <!-- CSS Files -->
  <link id="pagestyle" href="{% static 'css/material-dashboard.css' %}?v=3.2.0" rel="stylesheet" />

  {% block extra_css %}{% endblock %}

  <!-- Theme color for mobile browsers -->
  <meta name="theme-color" content="#e91e63">
  <meta name="msapplication-navbutton-color" content="#e91e63">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    /* Skip link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: #000;
      color: #fff;
      padding: 8px;
      text-decoration: none;
      border-radius: 3px;
      z-index: 10000;
    }

    .skip-link:focus {
      top: 6px;
    }

    /* Loading spinner */
    .loading-spinner {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 9999;
    }

    /* Improve font loading */
    body {
      font-display: swap;
    }
  </style>
</head>

<body class="{% block body_class %}g-sidenav-show bg-gray-100{% endblock %}">
  <!-- Skip to main content for accessibility -->
  <a class="skip-link" href="#main-content">Przejdź do głównej treści</a>

  {% block sidebar %}
  <!-- Include sidebar -->
  {% include 'sidebar.html' %}
  {% endblock %}

  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">
    {% block navbar %}
    <!-- Include navbar -->
    {% include 'navbar.html' %}
    {% endblock %}

    <!-- Page Content -->
    <div class="container-fluid py-2" id="main-content">
      {% block content %}{% endblock %}
    </div>

    {% block configurator %}
    {% include 'package/pages/configurator.html' %}
    {% endblock %}

    {% block footer %}
    <footer class="footer py-4">
      <div class="container-fluid">
        <div class="row align-items-center justify-content-lg-between">
          <div class="col-lg-6 mb-lg-0 mb-4">
            <div class="copyright text-center text-sm text-muted text-lg-start">
              © <script>document.write(new Date().getFullYear())</script>,
              made with <i class="fa fa-heart"></i> by
              <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
              for a better web.
            </div>
          </div>
          <div class="col-lg-6">
            <ul class="nav nav-footer justify-content-center justify-content-lg-end">
              <li class="nav-item">
                <a href="https://www.creative-tim.com" class="nav-link text-muted" target="_blank">Creative Tim</a>
              </li>
              <li class="nav-item">
                <a href="https://www.creative-tim.com/presentation" class="nav-link text-muted" target="_blank">About Us</a>
              </li>
              <li class="nav-item">
                <a href="https://www.creative-tim.com/blog" class="nav-link text-muted" target="_blank">Blog</a>
              </li>
              <li class="nav-item">
                <a href="https://www.creative-tim.com/license" class="nav-link pe-0 text-muted" target="_blank">License</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    {% endblock %}
  </main>

  <!-- Core JS Files -->
  <script src="{% static 'js/core/popper.min.js' %}"></script>
  <script src="{% static 'js/core/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/plugins/perfect-scrollbar.min.js' %}"></script>
  <script src="{% static 'js/plugins/smooth-scrollbar.min.js' %}"></script>

  <!-- Control Center for Material Dashboard -->
  <script src="{% static 'js/material-dashboard.min.js' %}?v=3.2.0"></script>

  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>

  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  {% block scripts %}{% endblock %}
  {% block extra_js %}{% endblock %}

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('{% static 'sw.js' %}');
      });
    }
  </script>
</body>
</html>
